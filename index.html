<link href="prism.css" rel="stylesheet" />

<body>

<h1>
    Homework 1
<h1/>

<h2>
    Klemen Kotar / AMATH 342 with Eric Shea Brown
</h2>

<h3>
    Part A - MATLAB Tutorial Problems
</h3>

<h4>
    Exercise 4.1
</h4>

<p>
    INTEGRATOR STAGE 2: Write a code <b>integrator_2.m</b> which:
</p>    
<ul>
    <li>defines a signal <b>signal_vector</b> (a vector of signal values at different timepoints)</li>
    <li>defines a threshold <b>thresh</b></li>
</ul>
<p>
    and computes as its answer the first time that the cumulative sum of the signal crosses the threshold.
</p>
    
<pre><code class="language-matlab">
clear all;

t=[1:10];
signal_vector = sin(t);
thresh = 0.5;

for n = t;
    if (signal_vector(n) > thresh);
        disp("We are crossing the threshold at time t = : " + signal_vector(n))
        break
    end;
end;
</code></pre>
    
<h4>Exercise 3.2</h4>
    
<p>
    Imagine that you have a giant neural network, and each cell is either firing (“on”) or not (“off”). Each second, for every neuron that is already on, two more switch on. This is a model of EXCITATORY SYNAPTIC COMMUNICATION from the “on” neurons. At time <i>t = 0</i> seconds, 1 neuron is “on.” Write a program, called <b>neural_explosion.m</b> that does the following:
</p>
<ul>
    <li>using a for loop, compute a vector number_on that is the number of neurons on at each second, from <i>t = 0</i> to <i>t = 30</i> seconds.</li>
    <li>Make a plot of the number of neurons on vs. time. Label the axes “time” and “number on.” Hint: type <code class="language-matlab">help plot!</code></li>
</ul>

<pre><code class="language-matlab">
clear all;

number_on = [1];
for n = [1:30]
    number_on(n+1) = number_on(n) * 3;
end
disp(number_on)
t = [0:30];

plot(t, number_on, "-*")
title("number of neurons on vs. time");
xlabel("time");
ylabel("neurons on");
</code></pre>
    
<p>
    Executing the above program produces the following graph:
</p> 
<!--<img src="number_of_neurons_on_vs_time.png">-->
<iframe src ="numberofneuronsonvs.time.html"></iframe>
    
<h4>
    Exercise 5.1
</h4>
<p>
    Write a function m-file <b>rmatrix.m</b> which takes as arguments 3 matrices A, S, Z, and returns the matrix B = A + S. ∗ Z.
</p>
    
<pre><code class="language-matlab">
function f=rmatrix(A, S, Z)
    U = S .* Z;
    f = A + U;
return;
</code></pre>
    
<h3>
    Part B - Spike Train Analysis and Tuning Curves
</h3>

<p>
    When I read though this exercise I decided to approach it partially <b>backwards</b>.
</p>
<p>
    The program <b>generate_noisy_data_cockroach.m</b> is producing simulations of measurments of spike trains. It produces a specified amount of trials to give us better accuracy. Our first task is to analyzie just a single output of the program as a raster plot. The trouble with this task is that we have to specify an angle at which we want to stimulate the cells to produce the spiketrain. Since we have no prior knowledge of wich angles are preffered by the cells, we have to blindly guess the angle for our initial analysis. Although this is closer to the prodedure we would ungergo if we were measuring novel data (i.e. data not generated by a rng), it can also lead to a very boring analysis. To circumnavigate this I started by plotting the tuning curves for cells 1, 2 and 3 in order to identiy their prefered positions, so I could analyze the individual spike trains at "interesting" positions.
</p>
    
<p>
    In order to achieve my goal I first decided to re-implement the program generate_noisy_data_cockroach.m as a function, of three arguments (stimDir, cell_num, ntrials).
</p>
<pre><code class="language-matlab"> 
% This is the generate_noisy_data_cockroach.m file modified to behave as a
% function instead of a human input script

% This code will generate a spiking response to an input based on a tuning
% curve and assuming (inhomogeneous) Poisson firing. The response adapts
% over time, with a time constant of tau

function spiketrain = noisy_data(stimDir, cell_num, ntrials)

    rand('state',sum(100*clock));

    nmsec = 300;    % number of milliseconds to record for
    times= 1:nmsec; % vector of time points (1 msec apart)

    spiketrain = zeros(ntrials,nmsec);      % set up output data

    rate = cockroach_tuning(stimDir, cell_num); %returns rate, in Hz.       
    tau = 100;      % adaptation time constant in msec
    delta_t=0.001; %time bin, in seconds (1 msec)
    ratefun = rate*exp(-times/tau);  % adapting rate function 



    for j = 1:ntrials

        for i = 1:nmsec

                spiketrain(j,i) = round(rand + ratefun(i)*delta_t -1/2 );

        end

    end
    
return
</code></pre>

<iframe src ="Specific%20Internal%20Energy%20of%20CO2.html"></iframe>


<body/>


<style>

body {
	margin-left: 20%;
	margin-right: 20%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    font-size: 14px;
    line-height: 1.5;
    color: #24292e;
    background-color: #fff
}
    
img {
    width: 100%;    
}

h1 {
    font-size: 350%;    
}
    
h2 {
    color: rgb(53, 140, 203);
}
iframe {
    width: 90%;
    height: 90%;
    border: none;
}

</style>

<script src="prism.js"></script>
